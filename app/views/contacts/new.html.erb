<main class="about">
  <%= render 'shared/static_nav' %>
  <section>
    <div>
      <h2>
        I'd love to
        <br/>
        Hear from you!
      </h2>
      <p>
        Got some thoughts to share? Whether itâ€™s a bright idea, a bug thatâ€™s bugging you, or just a friendly hello, Iâ€™m all ears! Your feedback helps make CityFinder better for everyone.
      </p>
    </div>
    <div class="form-container form">
      <%= form_with url: contact_path, id: "contactForm", scope: :contact, html: { class: "form" }, local: true do |form| %>
        <div class="row">
          <%= form.label :category, "How can I help you today?" %>
          <%= form.select :category,
                          [["I have a suggestion ðŸ’¡", "suggestion"],
                           ["I found a bug ðŸœ", "bug"],
                           ["I found incorrect data ðŸ“Š", "incorrect_data"],
                           ["I just want to say hi ðŸ‘‹", "say_hi"]],
                          {},
                          { id: "category", onchange: "updatePlaceholder()", class: "select" } %>
        </div>
        <div class="row">
          <%= form.label :message, "Your Message" %>
          <%= form.text_area :message, rows: 4, placeholder: "What would you like to share?", id: "message" %>
        </div>
        <div class="row">
          <%= form.label :name, "Your Name" %>
          <%= form.text_field :name, placeholder: "Your name...", required: true %>
        </div>
        <div class="row">
          <%= form.label :email, "Your Email" %>
          <%= form.email_field :email, placeholder: "Your email address...", required: true %>
        </div>
        <%= form.submit "Send Message", class: "btn primary large inactive", disabled: true %>
      <% end %>
    </div>
  </section>
</main>
<%= render 'shared/footer' %>

<script>
    function updatePlaceholder() {
        var category = document.getElementById("category").value;
        var messageBox = document.getElementById("message");

        switch (category) {
            case "suggestion":
                messageBox.placeholder = "Got a suggestion? I'd love to hear it!";
                break;
            case "bug":
                messageBox.placeholder = "Uh-oh, found a bug? Please tell me all about it!";
                break;
            case "incorrect_data":
                messageBox.placeholder = "Spotted something off? Let me know the details!";
                break;
            case "say_hi":
                messageBox.placeholder = "Just dropping by? Say hello!";
                break;
            default:
                messageBox.placeholder = "What would you like to share?";
        }
    }
</script>
