<ul class="cityList">
  <% @cities.each do |city| %>
    <li class="cityItem">
        <span class="emoji">ðŸ‡ºðŸ‡¸</span>
        <h3 class="name"><%= link_to city.city_name, city_path(city) %></h3>
        <button class="deleteBtn" data-city-id="<%= city.id %>">&times;</button>
    </li>
  <% end %>
</ul>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        document.querySelectorAll('.city-link').forEach(function (link) {
            link.addEventListener('click', function (event) {
                event.preventDefault();
                const cityId = event.target.getAttribute('data-city-id');
                fetchCityDetails(cityId);
            });
        });
    });

    function fetchCityDetails(cityId) {
        $.ajax({
            url: `/cities/${cityId}`,
            type: 'GET',
            dataType: 'script',
            success: function() {
                console.log("AJAX request successful!");
            },
            error: function() {
                console.error("AJAX request failed.");
            }
        });
    }
</script>